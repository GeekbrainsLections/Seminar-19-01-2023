# Инструкция по работе с Git и удалёнными репозиториями

## Что такое Git?
***Git*** - это одна из реализаций распределённой системы контроля версий, поддерживающие как локальные, так и удалённые репозитории. Самая популярная реализация Git - это [GitHub](https://github.com)

## Начало работы

Проверка версии (и собственно наличия git) осуществляется с помощью команды `git --version`.

### Параметры конфигурации

После установки git необходимо «представиться» системе контроля версий. Это нужно сделать всего один раз, и git запомнит вас. Для этого нужно ввести в терминале 2 команды:

```
git config --global user.name «Ваше имя английскими буквами»
git config --global user.email ваша
```

### Хранение конфигурационной информации:

1. `--system` - *Хранит на уровне системы*

**Windows:** C:\Program Files\Git\etc\gitconfig и C:/ProgramData\Git\config

**MacOS\Linux:** /etc/gitconfig

2. `--global` - *Хранит на уровне пользователя*

**Windows:** C:\Users\<USERNAME>\.gitconfig

**MacOS\Linux:** ~/.gitconfig

3. `--local` - *Хранит на уровне проекта*

<project>/.git/config

### Подготовка репозитория
Для создания репозитория используется команда `git init`. Для этого необходимо открыть в терминале папку с будущим репозиторием и там написать `git init`.

### Статус файлов в репозитории

Для просмотра статуса файлов, а именно: все ли файлы отслеживаются git, есть ли незафиксированные изменененные отслеживаемые файлы, есть ли добавленные, но не "закоммиченные" файлы используется команда `git status`.

Чтобы git начал игнорировать некоторые файлы и не сообщал о них в статусе требуется создать файл в корне репозитория с именем *".gitignor"*, в котором в каждой строчке нужно прописать имена файлов с расширением, которые требуется не учитывать. После этого добавить и зафиксировать данный файл.

```
git add .gitignor

git commit -m "File gitignore added"
```

## Создание "сохранений"

### Добавление файла к коммиту

Для добавления файлу к коммиту используется команда `git add`. Для этого в терминале в папкой-репозиторием необходимо написать `git add <название файла>`. Чтобы добавить все файлы в репозитории необходимо написать `git add --all`.

### Выполнение коммита

Для того, чтобы выполнить коммит используется команда `git commit`. Для этого в терминале с папкой-репозиторием необходимо написать `git commit -m "<сообщение к коммиту>"`. Сообщение к коммиту писать ***ОБЯЗАТЕЛЬНО!!!***

## Журнал изменений

Для просмотра истории коммитов используется команда `git log`. Для этого в терминале с папкой-репозиторием пишем `git log`. В журнале обязательно будут:
* хэш (номер) коммита
* дата и время коммита
* автор коммита
* текст сообщения к коммиту

Для графического вывода веток необходимо воспользоваться командой `git log --graph`.

## Сравнение версий

Чтобы сравнить текущую версию и последнюю сохраненную необходимо воспользоваться командой `git diff`.

## Перемещения между коммитами

Для перемещения между коммитами используется команда `git checkout`. Для этого в терминале с папкой-репозиторием необходимо написать `git checkout <хэш коммита>`. Хэш коммита можно взять из истории коммитов, про которую было рассказано в предыдущем пункте.

## Ветки в git

Существует главная ветка `master` - чистовой, рабочий вариант работы/программы. Можно создавать ветки (черновики) для создания и тестрирования новых функций, изменений. Веток может быть неограниченное количество.

### Просмотр списка веток

Для вывода списка всех существующих веток требуется ввести команду `git branch`. Зеленым цветом и символом (*) будет обозначена актуальная ветка, на которой мы сейчас находимся.

### Перемещение между ветками

Для перемещения между ветками используется команда `git checkout`. Ветка обязательно должна существовать.

### Создание веток

Чтобы создать ветку требуется выполнить команду: `git branch <название_ветки>`. Название ветки должно быть ***уникально***. При добавлении в команду флага "-b" сразу происходит переключение на новую ветку, например: `git checkout -b <название_ветки>`.

### Переключение между ветками

Чтобы переключиться на другую ветку требуется выполнить команду: `git checkout <название_ветки>`.

### Слияние веток и разрешение конфликтов

После завершения работы над своей задачей, рабочую ветку можно слить в master. Для этого нужно переключиться в ветку master и выполнить команду `merge`. Команда `merge` сливает указанную ветку в текущую! Например:

```
git checkout master
git merge <название_ветки>
```

При слиянии веток может случиться так, когда в одной и той же строки значатся новые изменения, тогда возникает конфликт, который требуется разрешить вручную. Вы увидите подобную картину:

```
<<<<< HEAD (current change)
...версия №1...
=====
...версия №2...
>>>>> lists (incoming change)
```

После разрешения конфликта обязательно требуется выполнить коммит. Если слияние произошло без конфликтов, коммит создатся автоматически.

### Удаление веток

Чтобы выполнить удаление ветки нужно выполнить команду: `git branch -d <название_ветки>`.

## Работа с удаленными репозиториями

Как уже было сказано выше, самый популярный сервис для работы Git с удаленными репозториями - это [GitHub](https://github.com). Работу с этим сервисом мы и будем рассматривать.

### Клонирование удаленного репозитория

Можно склонировать любой понравившийся проект на GitHub себе на компьютер. Для этого достаточно лишь знать его адрес в интернете. Тогда этот репозиторий со всеми исходными файлами станет вашим собственным и вы уже сможете делать с ним любые изменения. Склонировать себе репозиторий можно с помощью команды: `git clone <адрес_репозитория>`.

### Подключение локального репозитория к удаленному

Вы можете поделиться своим локальным репозиторием с другими через GitHub. Это удобно для совместной работы в команде над общим проектом или же для публикации широкому кругу лиц, чтобы другие заинтересованные вашим проектом разработчики принимали в нем участие и предлагали свои изменения.

Для этого первым шагом нужно зарегистрироваться на GitHub. После успешной регистрации вам нужно будет создать новый репозиторий (публичный или приватный). После его создания GitHub предложит вам команды для подключения вашего локального репозитория к только что созданному удаленному. Введя эти команды в своем локальном репозитории, пройдя авторизацию, ваш локальный репозиторий станет подключенным к удаленному. Теперь вы можете получать с сервера или отправлять на сервер изменения с помощью команд, которые будут рассмотрены ниже.

**Команды, которые предложит GitHub:**
```
git remote add origin <адрес вашего репозитория>
git branch -M main
git push -u origin main
```

### Обновление ветки с сервера

После того как вы закончили свои изменения в рабочей ветке, вам нужно слить эту ветку в master. Первым шагом для этого требуется переключиться в ветку master: `git checkout master`. Однако прежде чем сливать вашу рабочую ветку нужно, чтобы у вас была самая последняя версия ветки master. Для этого ее нужно обновить с сервера с помощью команды `git pull origin master`. А уже затем сделать merge в master: `git merge <название_ветки>`.

### Публикация в удаленный репозиторий
Другие пользователи не увидят ваши изменения, пока она не будет отправлена на удаленный репозиторий. Поэтому, после того как вы слили все изменения в обновленный master, нужно отправить их в GitHub. ***Для этого обязательно нужно находиться в ветке master***. Публикация в удаленный репозиторий выполняется командой: `git push origin master`.

### Участие в разработке чужого проекта

Вы можете принять участие в работе над чужим открытым проектом в GitHub. Для этого перейдите на страницу требуемого репозитория с интересующим вас проектом и нажмите кнопку "Fork". Произойдет копирование данного репозитория в ваш аккаунт. Откройте вашу копию и сделайте клонирование себе на компьютер как было описано выше. После всех сделанных изменений и отправки последней версии в свой удаленный репозиторий вы можете отправить ваши предложенные изменения автору проекта. Для этого на GitHub откройте страницу с этим репозиторием, перейдите на вкладку "Pull reqests", нажмите кнопку "New pull request" и следуйте дальнейшим инструкциям. Автор проекта получит предлагаемые вами изменения и решит добавлять ли их в свой проект. Вам придет оповещение о его решении.